<!DOCTYPE html>
<html lang="pt-BR" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>ThIAguinho Wii | Ultimate Console OS</title>
    
    <!-- Core Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-core"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-converter"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-backend-webgl"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/pose-detection"></script>
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Real-time Backend -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&family=Syncopate:wght@400;700&display=swap');

        :root {
            --accent: #00f2ff;
            --bg-dark: #0a0a0c;
            --panel: rgba(255, 255, 255, 0.05);
        }

        body { 
            background: var(--bg-dark);
            color: #fff;
            margin: 0; overflow: hidden; 
            font-family: 'Outfit', sans-serif; 
            user-select: none; touch-action: none;
            height: 100vh; width: 100vw;
        }

        /* Glassmorphism UI */
        .glass {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
        }

        .crt-scanline {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 999;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.05) 50%);
            background-size: 100% 4px;
            opacity: 0.3;
        }

        #webcam { 
            position: absolute; bottom: 30px; right: 30px; width: 140px; 
            border-radius: 20px; border: 2px solid var(--accent); 
            box-shadow: 0 0 30px rgba(0, 242, 255, 0.3);
            transform: scaleX(-1); z-index: 50; opacity: 0; transition: all 0.6s cubic-bezier(0.23, 1, 0.32, 1);
        }

        #game-canvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 10; }

        /* Dashboard Animation */
        .channel-card {
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            perspective: 1000px;
        }
        .channel-card:hover {
            transform: translateY(-10px) scale(1.05);
            background: rgba(255, 255, 255, 0.08);
            border-color: var(--accent);
            box-shadow: 0 20px 40px rgba(0,0,0,0.4);
        }

        /* Particles Layer */
        #ui-bg-particles {
            position: fixed; top:0; left:0; width:100%; height:100%; z-index: 1; opacity: 0.4;
        }

        .loader-bar {
            width: 200px; height: 4px; background: rgba(255,255,255,0.1); border-radius: 2px; overflow: hidden;
        }
        .loader-progress {
            width: 0%; height: 100%; background: var(--accent); box-shadow: 0 0 15px var(--accent);
            transition: width 0.3s;
        }

        @keyframes pulse-accent {
            0% { box-shadow: 0 0 0 0 rgba(0, 242, 255, 0.4); }
            70% { box-shadow: 0 0 0 20px rgba(0, 242, 255, 0); }
            100% { box-shadow: 0 0 0 0 rgba(0, 242, 255, 0); }
        }
        .active-ring { animation: pulse-accent 2s infinite; }
    </style>
</head>
<body>

    <video id="webcam" autoplay playsinline muted></video>
    <div class="crt-scanline"></div>
    <canvas id="ui-bg-particles"></canvas>
    <canvas id="game-canvas"></canvas>

    <!-- LOADING SCREEN -->
    <div id="loading" class="fixed inset-0 z-[1000] bg-[#0a0a0c] flex flex-col items-center justify-center">
        <div class="mb-8 relative">
            <div class="w-24 h-24 border-4 border-white/5 rounded-full"></div>
            <div class="w-24 h-24 border-4 border-t-[#00f2ff] rounded-full animate-spin absolute top-0 left-0"></div>
        </div>
        <h1 class="text-2xl font-bold tracking-[0.3em] mb-4 text-white uppercase italic">System Booting</h1>
        <div class="loader-bar"><div id="load-progress" class="loader-progress"></div></div>
        <p id="loading-text" class="mt-6 text-white/40 text-xs font-semibold tracking-widest uppercase">Initializing Core Engine...</p>
    </div>

    <!-- MAIN MENU (DASHBOARD) -->
    <div id="menu-screen" class="fixed inset-0 z-20 flex flex-col justify-between p-12 hidden">
        <header class="flex justify-between items-end">
            <div>
                <h2 class="text-white/40 text-sm font-bold tracking-widest uppercase">User Profile</h2>
                <div class="flex items-center gap-4 mt-2">
                    <div class="w-12 h-12 glass flex items-center justify-center text-xl active-ring">üë§</div>
                    <span id="player-tag" class="text-2xl font-bold italic tracking-tight text-[#00f2ff]">PLAYER_000</span>
                </div>
            </div>
            <div class="text-right">
                <div id="clock" class="text-5xl font-light tracking-tighter mb-1">00:00</div>
                <div id="net-status" class="text-[10px] font-bold tracking-widest text-white/30 uppercase">Offline Node</div>
            </div>
        </header>

        <main class="flex-1 flex items-center justify-center">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-8 w-full max-w-6xl" id="channel-grid">
                <!-- Injected by Core.js -->
            </div>
        </main>

        <footer class="flex justify-between items-center">
            <div class="flex gap-6">
                <button class="glass px-8 py-3 text-sm font-bold tracking-widest hover:bg-white/10 transition-colors uppercase" onclick="window.System.showSettings()">Settings</button>
                <button class="glass px-8 py-3 text-sm font-bold tracking-widest hover:bg-white/10 transition-colors uppercase" onclick="window.System.showLeaderboard()">Ranking</button>
            </div>
            <div class="flex items-center gap-3">
                <span class="text-white/20 text-[10px] font-bold uppercase tracking-widest">Thiaguinho Wii v4.0.0 Platinum</span>
                <div class="w-2 h-2 rounded-full bg-[#00f2ff] shadow-[0_0_10px_#00f2ff]"></div>
            </div>
        </footer>
    </div>

    <!-- HUD DO JOGO -->
    <div id="game-ui" class="fixed inset-0 z-30 pointer-events-none hidden">
        <!-- SCORE PANEL -->
        <div class="absolute top-8 left-8 glass px-6 py-4 flex flex-col">
            <span class="text-[10px] font-bold text-white/40 tracking-[0.2em] uppercase">Current Score</span>
            <span id="hud-score" class="text-4xl font-black italic text-[#00f2ff] leading-none mt-1">00000</span>
        </div>
        
        <div id="game-msg" class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-7xl font-black italic uppercase tracking-tighter text-white drop-shadow-[0_10px_30px_rgba(0,0,0,0.5)] opacity-0"></div>

        <button class="absolute top-8 right-8 glass w-16 h-16 flex items-center justify-center text-2xl pointer-events-auto hover:bg-white/10 active:scale-90 transition-all" onclick="window.System.home()">üè†</button>
    </div>

    <!-- GLOBAL OVERLAY (MODALS) -->
    <div id="global-modal" class="fixed inset-0 z-[2000] bg-black/90 flex items-center justify-center opacity-0 pointer-events-none transition-opacity duration-300">
        <div class="glass max-w-md w-full p-10 text-center scale-90 transition-transform">
            <h2 id="modal-title" class="text-3xl font-bold italic mb-6 uppercase text-[#00f2ff]">Alert</h2>
            <div id="modal-content" class="text-white/70 mb-8 font-light"></div>
            <button class="w-full glass py-4 font-bold uppercase tracking-widest hover:bg-[#00f2ff] hover:text-black transition-all" onclick="window.System.closeModal()">Close</button>
        </div>
    </div>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyB0ThqhfK6xc8P1D4WCkavhdXbb7zIaQJk",
            authDomain: "thiaguinhowii.firebaseapp.com",
            databaseURL: "https://thiaguinhowii-default-rtdb.firebaseio.com",
            projectId: "thiaguinhowii",
            storageBucket: "thiaguinhowii.firebasestorage.app",
            messagingSenderId: "63695043126",
            appId: "1:63695043126:web:abd6a8ba7792313991b697"
        };
        try {
            if (typeof firebase !== 'undefined') {
                firebase.initializeApp(firebaseConfig);
                window.DB = firebase.database();
            }
        } catch (e) { console.warn("Firebase Init Error"); }
    </script>

    <script src="js/core.js"></script>
    <script src="js/game_kart.js"></script>
    <script src="js/game_run.js"></script>
    <script src="js/game_box.js"></script>
    <script src="js/game_tennis.js"></script>
</body>
</html>

